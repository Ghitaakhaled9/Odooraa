<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	<link rel="stylesheet" href="styles/style-dashbord.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
	<title>dashbord admin</title>
</head>
<body>


<!-- SIDEBAR -->
<section id="sidebar">
	<a href="/index" class="brand" style="padding-left: 70px;">
		<span class="text" ><span style="color: black;">ODO</span><span style="color: #f3528d;">RA</span></span>
	</a>
	<ul class="side-menu top">
		<li class="active">
			<a href="/dashbord">
				<i class='bx bxs-dashboard' ></i>
				<span class="text">Dashboard</span>
			</a>
		</li>
		<li>
			<a href="/produits">
				<i class='bx bxs-shopping-bag-alt' ></i>
				<span class="text">Gestion des produits</span>
			</a>
		</li>

		<li>
			<a href="/gerant">
				<i class='bx bxs-group' ></i>
				<span class="text">Team</span>
			</a>
		</li>
		<li>
			<a href="/user">
				<i class='bx bxs-message-dots' ></i>
				<span class="text">Utilisateurs</span>
			</a>
		</li>
	</ul>
	<ul class="side-menu">
		<li>
			<a href="/logout" class="logout">
				<i class='bx bxs-log-out-circle' ></i>
				<span class="text">Logout</span>
			</a>
		</li>
	</ul>
</section>
<!-- SIDEBAR -->



<!-- CONTENT -->
<section id="content">
	<!-- NAVBAR -->
	<nav>
		<i class='bx bx-menu' ></i>
		<a href="#" class="nav-link">Categories</a>
		<form action="#">
			<div class="form-input">
				<input type="search" placeholder="Search...">
				<button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
			</div>
		</form>
		<input type="checkbox" id="switch-mode" hidden>
		<label for="switch-mode" class="switch-mode"></label>
		<a href="#" class="notification">
			<i class='bx bxs-bell' ></i>
			<span class="num">8</span>
		</a>
		<a href="/profil" class="profile">
			<i class="fas fa-user"></i>
		</a>
	</nav>
	<!-- NAVBAR -->

	<!-- MAIN -->
	<main>
		<div class="head-title">
			<div class="left">
				<h1>Dashboard</h1>
				<ul class="breadcrumb">
					<li>
						<a href="#">Dashboard</a>
					</li>
					<li><i class='bx bx-chevron-right' ></i></li>
					<li>
						<a class="active" href="/dashbord">Home</a>
					</li>
				</ul>
			</div>
		</div>

		<ul class="box-info">
			<li>
				<i class='bx bxs-calendar-check'></i>
				<span class="text">
            <h3 th:text="${nombreCommandes}">1020</h3> <!-- Utilisez Thymeleaf pour injecter la valeur dynamiquement -->
            <p>Commandes</p>
        </span>
			</li>
			<li>
				<i class='bx bxs-group'></i>
				<span class="text">
            <h3 th:text="${nombreClients}">2834</h3> <!-- Utilisez Thymeleaf pour injecter la valeur dynamiquement -->
            <p>Visiteurs</p>
        </span>
			</li>
			<li>
				<i class='bx bxs-dollar-circle'></i>
				<span class="text">
            <h3 th:text="${totalAchats}">$2543</h3> <!-- Utilisez Thymeleaf pour injecter la valeur dynamiquement -->
            <p>Totales des achats</p>
        </span>
			</li>
		</ul>



		<div class="table-data">
			<div class="order">
				<div class="head">
					<h3>Commandes récentes</h3>
				</div>
				<table>
					<thead>
					<tr>
						<th>Utilisateur</th>
						<th>Date de la commande</th>
						<th>Status</th>
					</tr>
					</thead>
					<tbody>
					<!-- Boucle sur les commandes pour les afficher -->
					<th:block th:each="commande : ${commandes}">
						<tr>
							<td>
								<img src="img/people.png">
								<p th:text="${commande.user.nom}"></p> <!-- Remplacez "nom" par le nom de l'attribut correspondant dans votre entité UserSite -->
							</td>
							<td th:text="${#dates.format(commande.date, 'dd-MM-yyyy')}"></td> <!-- Formatage de la date -->
							<td>
                            <span th:class="${commande.isPayed ? 'status completed' : 'status pending'}">
                                <!-- Affichage du statut en fonction de la propriété "isPayed" de la commande -->
                                <span th:if="${commande.isPayed}">Completed</span>
                                <span th:unless="${commande.isPayed}">Pending</span>
                            </span>
							</td>
						</tr>
					</th:block>
					</tbody>
				</table>
			</div>
		</div>

	</main>

</section>
<script src="js/script.js"></script>
</body>
</html>